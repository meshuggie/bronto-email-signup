!function e(r,n,s){function t(a,o){if(!n[a]){if(!r[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var d=n[a]={exports:{}};r[a][0].call(d.exports,function(e){var n=r[a][1][e];return t(n||e)},d,d.exports,e,r,n,s)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<s.length;a++)t(s[a]);return t}({1:[function(e,r,n){!function(e){"use strict";function r(e,r){r?(e.addClass("disabled"),e.find("fieldset").prop("disabled"),e.find(".loading").removeClass("hidden")):(e.removeClass("disabled"),e.find("fieldset").removeAttr("disabled"),e.find(".loading").addClass("hidden"))}e(window).on("load",function(){e(".bronto-email-signup").each(function(){r(e(this),!1);var n=e(this).validate({errorPlacement:function(e,r){e.appendTo(r.parents(".form-group"))}}),s=e(this).find('input[name="mobileNumber"]'),t=e(this).find('input[name="email"]');s.length?s.rules("add",{required:!0,number:!0}):t.rules("add",{required:!0,email:!0}),e(this).find('[aria-required="true"]:not(span)').map(function(){return e(this)}).get().forEach(function(e){e.rules("add",{required:!0})}),e(this).on("submit",function(s){if(s.preventDefault(),!n.form())return!1;var t=e(this);r(t,!0);var i=e(this).serializeArray().reduce(function(e,r){return e[r.name]=r.value,e},{});i.action="broes_add_contact",i._ajax_nonce=broes.nonce,i.expected_inputs=broes.expected_inputs,e.post(broes.ajax_url,i,function(e){var n,s=e.result,i=""!==e.webformUrl?'<br><a href="'+e.webformUrl+'" target="_blank">Manage your Preferences</a>':"",a=new CustomEvent("brontoSignup",{detail:{response:s},bubbles:!0,cancelable:!0});if(t[0].dispatchEvent(a),r(t,!1),"error"==e.result){var o=""!==broes.registered_message?broes.registered_message:e.message;n='<p class="error">',n+=o,n+=i,n+="</p>"}else{var o=""!==broes.success_message?broes.success_message:e.message;n='<p class="success">',n+=o,n+="updated"==e.result?i:"",n+="</p>"}t.find(".response").html(n)},"json")})})})}(jQuery)},{}]},{},[1]);